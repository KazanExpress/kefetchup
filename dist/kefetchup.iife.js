var kefetchup = (function (exports) {
    'use strict';

    var extendStatics=function(t,e){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);},extendStatics(t,e)};function __extends(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t;}extendStatics(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r);}var __assign=function(){return __assign=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},__assign.apply(this,arguments)};

    var safeAppend=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return [e].concat(t.filter((function(e){return null!=e})).map(String)).join("\n")},ResponseError=function(e){function t(r,o,n,a){var s=e.call(this,r)||this;return s.status=o,s.data=n,s.request=a,Object.setPrototypeOf(s,t.prototype),s.name="ResponseError",s}return __extends(t,e),t.prototype.toString=function(){return safeAppend(this.name+": "+this.message,this.data,this.request)},t}(Error);var ResponseException=function(e){function t(t,r,o){var n=e.call(this,t,r,o)||this;return n.name="ResponseException",n}return __extends(t,e),t}(ResponseError);exports.ResponseErrors = void 0;!function(e){e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.LengthRequired=411]="LengthRequired",e[e.InvalidMedia=415]="InvalidMedia",e[e["I'm a teapot"]=418]="I'm a teapot",e[e.Unprocessable=422]="Unprocessable",e[e.TooManyRequests=429]="TooManyRequests",e[e.ServerError=500]="ServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout",e[e.UnknownError=-1]="UnknownError";}(exports.ResponseErrors||(exports.ResponseErrors={}));

    function defaultFetch(e,s){return Promise.resolve(new Response(JSON.stringify(defaultFetchHandlerResponseBody(e,s)),defaultFetchHandlerResponseOptions))}var defaultFetchHandlerResponseBody=function(e,s){return __assign(__assign({error:"Default-fetch-handler response."},void 0===e?{}:{to:e}),void 0===s?{}:{options:s})};var defaultFetchHandlerResponseOptions={status:exports.ResponseErrors["I'm a teapot"],statusText:"undefined"!=typeof fetch?"why do you use mee?..":"`fetch` missing in `window`"};

    var GenericAPIClient=function(){function e(e,r){void 0===e&&(e=""),void 0===r&&(r={}),this.$baseURL=e,this.$baseClientConfig=r,this.$fetchHandler=window.fetch?window.fetch.bind(window):defaultFetch;}return e.prototype.$request=function(e,r,t){return void 0===t&&(t=!1),e.match(/^(\w+:)?\/\//)||(e=this.$baseURL?new URL(e,this.$baseURL).href:e),this.$requestFactory(e,t?r:__assign(__assign(__assign({},this.$baseClientConfig),r),{headers:__assign(__assign({},this.$baseClientConfig.headers||{}),r.headers||{})}),this.$fetchHandler)},e.prototype.$responseHandler=function(r){if(r.ok)return r;throw new ResponseError(e.handleStatus(r.status),r.status,r)},e.prototype.$errorHandler=function(e,r,t,n){throw e instanceof ResponseError?e:new ResponseError("Unkown Error: ",exports.ResponseErrors.UnknownError,e,{url:r,config:t,request:n})},e.prototype.$requestFactory=function(e,r,t){var n=this;return t(e,r).then((function(e){return n.$responseHandler(e)})).catch((function(o){return n.$errorHandler(o,e,r,t)}))},e.prototype.$alias=function(e){return function(r,t,n){return void 0===t&&(t=this.$baseClientConfig),t.method=e?e.toUpperCase():(t.method||"GET").toUpperCase(),this.$request(r,t,n)}},e.handleStatus=function(e){return void 0===e&&(e=-1),exports.ResponseErrors[e]||exports.ResponseErrors[-1]},e}();

    function withQuery(n,t){var e=function(n,t){return "".concat(encodeURIComponent(t),"=").concat(encodeURI(n))},r=Object.keys(t).filter((function(n){return !!n&&void 0!==t[n]})).map((function(n){return Array.isArray(t[n])?e(t[n].join(","),n):e(String(t[n]),n)})),o=1!==r.length?r.join("&"):r[0],i=n.indexOf("?")>-1?"&":"?";return n+(o.length>0?i+o:"")}

    var JsonAPIClient=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.$responseHandler=function(e){return e.json()},t}(GenericAPIClient);var TextAPIClient=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.$responseHandler=function(e){return e.text()},t}(GenericAPIClient);

    exports.GenericAPIClient = GenericAPIClient;
    exports.JsonAPIClient = JsonAPIClient;
    exports.ResponseError = ResponseError;
    exports.ResponseException = ResponseException;
    exports.TextAPIClient = TextAPIClient;
    exports.withQuery = withQuery;

    return exports;

})({});
//# sourceMappingURL=kefetchup.iife.js.map
